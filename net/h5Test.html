<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Android â†” WebView æµ‹è¯•é¡µ</title>
<style>
body { font-family: sans-serif; background: #101820; color: #eee; padding: 20px; }
button { margin: 10px 0; padding: 10px 16px; background: #007AFF; border: none; color: #fff; border-radius: 6px; }
pre { background: #1e1e1e; padding: 10px; border-radius: 6px; overflow-x: auto; }
</style>
</head>
<body>

<h2>Android ä¸ WebView åŒå‘é€šä¿¡æµ‹è¯•é¡µ</h2>

<button onclick="getAndroidId()">è·å–è®¾å¤‡ID</button><br>
<button onclick="getClipboard()">è¯»å–å‰ªåˆ‡æ¿å†…å®¹</button><br>
<button onclick="callAppsflyer()">è§¦å‘Appsflyeræµ‹è¯•</button><br>
<button onclick="callFirebase()">è§¦å‘Firebaseæµ‹è¯•</button><br>
<button onclick="callGoogleSign()">è§¦å‘Googleç™»å½•</button><br>
<button onclick="sendMsgToAndroid()">å‘é€æµ‹è¯•æ¶ˆæ¯</button><br>

<h3>ç»“æœè¾“å‡ºï¼š</h3>
<pre id="log"></pre>

<script>
const logBox = document.getElementById("log");
function log(msg) {
    logBox.textContent += msg + "\n";
    console.log(msg);
}

// === JS è°ƒç”¨å®‰å“ ===
function getAndroidId() {
    try {
        const id = window.AndroidBridge.getAndroidId();
        log("ğŸ“± AndroidId: " + id);
    } catch (e) {
        log("âš ï¸ æ— æ³•è°ƒç”¨ getAndroidIdï¼š" + e);
    }
}

function getClipboard() {
    try {
        const clip = window.AndroidBridge.getClipboardText();
        log("ğŸ“‹ å‰ªåˆ‡æ¿å†…å®¹: " + clip);
    } catch (e) {
        log("âš ï¸ æ— æ³•è°ƒç”¨ getClipboardTextï¼š" + e);
    }
}

function callAppsflyer() {
    try {
        window.AndroidBridge.testAppsflyer();
        log("ğŸš€ è°ƒç”¨ Appsflyer æµ‹è¯•å®Œæˆ");
    } catch (e) {
        log("âš ï¸ æ— æ³•è°ƒç”¨ Appsflyerï¼š" + e);
    }
}

function callFirebase() {
    try {
        window.AndroidBridge.testFirebase();
        log("ğŸ”¥ è°ƒç”¨ Firebase æµ‹è¯•å®Œæˆ");
    } catch (e) {
        log("âš ï¸ æ— æ³•è°ƒç”¨ Firebaseï¼š" + e);
    }
}

function callGoogleSign() {
    try {
        window.AndroidBridge.googleSignIn();
        log("ğŸ”‘ è°ƒç”¨ Google ç™»å½•");
    } catch (e) {
        log("âš ï¸ æ— æ³•è°ƒç”¨ Google ç™»å½•ï¼š" + e);
    }
}

function sendMsgToAndroid() {
    try {
        window.AndroidBridge.showToast("Hello from Web!");
        log("ğŸ“¨ å‘é€æ¶ˆæ¯ç»™å®‰å“æˆåŠŸ");
    } catch (e) {
        log("âš ï¸ æ— æ³•è°ƒç”¨ showToastï¼š" + e);
    }
}

// === å®‰å“å›è°ƒ JS ===
function onReceiveAndroidData(jsonStr) {
    log("ğŸ“¥ æ”¶åˆ°å®‰å“è¿”å›æ•°æ®: " + jsonStr);
}
</script>
</body>
</html>
